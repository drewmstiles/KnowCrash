<!DOCTYPE html>
<html lang="en" ng-app="calendar">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.css" />
    <script src="http://d3js.org/d3.v4.min.js" type="text/javascript"></script>
    <script src="http://cdn.leafletjs.com/leaflet-0.7/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.css' rel='stylesheet' />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<div id="wrapper">
		<div id="home">
			<div id="homeContainer">
				<p id="homeTitle" class="homeFull">Know Crash</p>
				<section class="homeSec">
					<p class="homeLabel">What city are you interested in?</p>
					<div class="homeFieldContainer">
						<p class="homeText homeArrow homeLeftArrow"></p>
						<input id="homeCity" class="homeText homeField" value="Long Beach">
						<p class="homeText homeArrow homeRightArrow"></p>
					</div>
				</section>
				<section class="homeSec">
					<p class="homeLabel">What do you want to know about?</p>
					<div class="homeFieldContainer">
						<p id="homeHistView" class="homeText homeHalfPara homeKnow" x-data-selected="yes" x-data-value="0">Historical Trends</p>
						<p id="homeFutuView" class="homeText homeHalfPara homeKnow" x-data-selected="no" x-data-value="1">Future Predictions</p>
					</div>
				</section>
				<section class="homeSec">
					<p class="homeLabel">Which perspective would you like to see?</p>
					<div class="homeFieldContainer">
						<p id="histMapToggle" class="homeText homeFullPara homePer" x-data-selected="yes" x-data-value="0">Accidents Mapped by Year</p>
						<p id="histAbsToggle" class="homeText homeFullPara homePer" x-data-selected="no" x-data-value="1">Accident Frequency by Time</p>
					</div>
				</section>
				<section class="homeSec">
					<button id="visButton">Visualize</button>
				</section>
			</div>
		</div>
		<div id="map" class="screen"></div>
		<div id="heatmap" class="screen">
			<h1 id="heatmapTitle">Accident Frequency by Date and Time</h1>
		</div>
		<div id="futureMap" class="screen">
			<h1 id="heatmapTitle">Today's Intersection Accident Probabilities</h1>
		</div>
		<div id="futureAbstract" class="screen"></div>
		<div id="ctrl">
			<div id="ctrlHead">
				<div id="ctrlHome" class="ctrlIcon"></div>
				<div id="ctrlInfo" class="ctrlIcon"></div>
				<div id="ctrlSett" class="ctrlIcon"></div>
			</div>
			<div id="ctrlBody">
				<div id="ctrlMapInfoBody">
						<hr class="ctrlLine" />
						<h2 class=ctrlBodyTitle>Accidents Mapped by Year</h2>
						<h3>Summary</h3>
						<p>This perspective shows accidents that occurred in Long Beach over the given year. Accidents are presented as a circular marker at the location where the accident occurred. Accident severity is encoded in both the size and color of the marker as shown in the legend given below.
						</p>
						<h3>Legend</h3>
						<div id="ctrlMapLegend">
							<div class="ctrlMapLegendEntry">
								<div class="ctrlMapCircle" id="ctrlMapCircleRed"></div>
								<div class="ctrlMapCircleLabel">Fatal</div>	
							</div>
							<div class="ctrlMapLegendEntry">
								<div class="ctrlMapCircle" id="ctrlMapCircleOrange"></div>
								<div class="ctrlMapCircleLabel">Severe</div>	
							</div>
							<div class="ctrlMapLegendEntry">
								<div class="ctrlMapCircle" id="ctrlMapCircleMustard"></div>
								<div class="ctrlMapCircleLabel">Mild</div>	
							</div>
							<div class="ctrlMapLegendEntry">
								<div class="ctrlMapCircle" id="ctrlMapCircleYellow"></div>
								<div class="ctrlMapCircleLabel">Minor</div>	
							</div>
							<div class="ctrlMapLegendEntry">
								<div class="ctrlMapCircle" id="ctrlMapCircleWhite"></div>
								<div class="ctrlMapCircleLabel">No Injury</div>	
							</div> 		
						</div>				
				</div>
				<div id="ctrlMapSettBody">
					<hr class="ctrlLine" />
					<div id="ctrlMapYearSection" class="ctrlMapSettingSection">
						<p id="ctrlMapLastYear" class="ctrlMapYear ctrlMapYearArrow">&#x2190;</p>
						<p id="ctrlMapYear" class="ctrlMapYear">2001</p>
						<p id="ctrlMapNextYear" class="ctrlMapYear ctrlMapYearArrow">&#x2192;</p>
					</div>
					
					<div id="ctrlMapSeveritySetting" class="ctrlMapSettingSection">
						<div id="sevTxt" class="ctrlMapSettingLabel">Severity</div>
						<div class="ctrlMapSelectBox"><select id="ctrlMapSeverity" class="ctrlMapSelect">
							<option value="*" selected>All</option>
							<option value="1">Fatal</option>
							<option value="2">Severe</option>
							<option value="3">Mild</option>
							<option value="4">Minor</option>
							<option value="0">No Injury</option>
						</select></div>
					</div>
					<div id="ctrlMapFactorSetting" class="ctrlMapSettingSection">
						<div id="facTxt" class="ctrlMapSettingLabel">Factor</div>
						<div class="ctrlMapSelectBox"><select id="ctrlMapFactor" class="ctrlMapSelect">
							<option value="*" selected>All</option>
							<option value="01">Driving Under theInfluence</option>
							<option value="03">Speeding</option>
							<option value="04">Tailgating</option> 
							<option value="05">Wrong Side of Road</option> 								
							<option value="06">Improper Passing</option>
							<option value="11">Pedestrian Violation</option>
							<option value="12">Traffic Signal Malfunction</option> 		
							<option value="24">Driver Fell Asleep</option> 		
						</select></div>
					</div>	
					<div id="ctrlMapFilterSection">
							<button id="ctrlMapFilterButton" class="filterButton">Filter</button>
					</div>
					<br />
			</div>
		</div>
</div>
</body>
<script type="text/javascript" src="script.js"></script>
<script type="text/javascript" src="heatmap.js"></script>
<script type="text/javascript" src="nav.js"></script>
<script type="text/javascript" src="futureMap.js"></script>
<script type="text/javascript" src="home.js"></script>
<script type="text/javascript" src="ctrl.js"></script>
<script type="text/javascript" src="futureAbstract.js"></script>
<script>

	window.onload = function() {
		showIntro();
	};

	function showIntro() {
		d3.select("#home")
			.style("width",window.innerWidth + "px")
			.style("height",window.innerHeight + "px")
	}
		
	function fadeIntro() {
		d3.select("#home")
			.transition()
			.duration(2000)
			.style("opacity", 0.0);
	}
	
	
</script>
</html>